{{ define "create-account" }}
<script src="https://unpkg.com/htmx-ext-response-targets@2.0.0/response-targets.js"></script>
<script src="/static/js/button-component.js"> </script>

<div id="create-account-container" hx-ext="response-targets">
  <style>
    * {
      font-family: Aruma;
    }

    #create-account-container {
      color: #0e6080;
      padding: 40px;
      display: flex;
      justify-content: center;
      flex-direction: column;
      align-items: center;
    }

    form {
      padding: 20px;
      gap: 15px;
      display: flex;
      justify-content: center;
      flex-direction: column;
      align-items: right;
      font-size: 30px;
    }

    span {
      font-size: 50px;
      font-family: Cheto;
    }

    input[type=text],
    input[type=email],
    input[type=password] {
      flex-grow: 1;
      padding: 3px;
      height: 30px;
      font-size: 20px;
      border-radius: 5px;
      border: 2px solid #0e6080;
      background-color: antiquewhite;
    }


    .form-item {
      width: 100%;
      align-items: center;
      display: flex;
      gap: 20px;
    }
  </style>

  <script>
    document.addEventListener('htmx:afterRequest', e => {
      if (!e.detail.xhr.status.toString().startsWith('2')) {
        let errorDiv = document.getElementById("create-account-error");
        errorDiv.innerHTML = e.detail.xhr.responseText;
        errorDiv.style.display = 'block';
      }
    });
  </script>


  <span id="create-account-title">Create Account</span>
  <form id="create-account-form" hx-post="/create-account-submit" hx-target="#create-account-container"
    hx-target-5*="#create-account-error" hx-target-error="next #create-acount-error">
    <div class="form-item">
      <label for="username">
        Username
      </label>
      <input type="text" id="username" name="username" required>
    </div>
    <div class="form-item">
      <label for="password">
        Password
      </label>
      <input type="password" id="password" name="password" required>
    </div>
    <div class="form-item">
      <label for="email">
        Email
      </label>
      <input type="email" id="email" name="email" required>
    </div>

    <div class="form-item">
      <button-component>
        <button slot="button" type="submit">
          Let's go!
        </Button>
      </button-component>

    </div>
  </form>
  <div id="create-account-error"></div>
</div>




{{ end }}
